(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{278:function(e,t,r){var content=r(281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(109).default)("ac5cbe32",content,!0,{sourceMap:!1})},279:function(e,t,r){var content=r(284);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(109).default)("832f469a",content,!0,{sourceMap:!1})},280:function(e,t,r){"use strict";r(278)},281:function(e,t,r){var n=r(108)(!1);n.push([e.i,".sit-content[data-v-39d08355]{display:grid;grid-gap:10px;gap:10px;padding:0 10px 10px}.sit-question[data-v-39d08355]{background-color:#eee;padding:10px}.sit-header[data-v-39d08355]{position:-webkit-sticky;position:sticky;top:0;background-color:#fff;padding:10px 0;display:grid;grid-gap:10px;gap:10px}.sit-question-tiles[data-v-39d08355]{display:grid;grid-auto-flow:column;grid-gap:10px;gap:10px}.sit-question-tile[data-v-39d08355]{display:flex;justify-content:center;align-items:center;text-align:center;border:1px solid #ccc;border-radius:2px;height:40px}.sit-question-tile div[data-v-39d08355]{height:-webkit-min-content;height:-moz-min-content;height:min-content;width:-webkit-min-content;width:-moz-min-content;width:min-content}.sit-atom-image[data-v-39d08355]{max-height:128px}",""]),e.exports=n},282:function(e,t,r){"use strict";r.r(t);r(39),r(28),r(40),r(29),r(32),r(41),r(42);var n=r(10);r(50),r(80),r(13),r(26),r(27),r(285),r(192);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var l={name:"SiTheme",props:{theme:{type:Object,default:function(){return{}}},pack:{type:Object,default:function(){return{}}}},data:function(){return{resources:{}}},methods:{getAtoms:function(e){return null==e?void 0:e.querySelectorAll("scenario > atom")},getAnswers:function(e){var t,r=[],n=o(null==e?void 0:e.querySelectorAll("right > answer"));try{for(n.s();!(t=n.n()).done;){var c=t.value;r.push(c.textContent)}}catch(e){n.e(e)}finally{n.f()}return r},getResource:function(e,t){var r;return null!==(r=this.resources[t])&&void 0!==r?r:null},loadResource:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c,l,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e in(o={voice:"Audio",image:"Images",video:"Video"})){n.next=3;break}return n.abrupt("return",null);case 3:if(c="".concat(o[e],"/").concat(t),null!==(l=r.pack.file(c))){n.next=7;break}return n.abrupt("return",null);case 7:return n.next=9,l.async("blob");case 9:return d=n.sent,f=URL.createObjectURL(d),n.abrupt("return",f);case 12:case"end":return n.stop()}}),n)})))()}},computed:{name:function(){var e;return null===(e=this.theme)||void 0===e?void 0:e.getAttribute("name")},questions:function(){var e;return null===(e=this.theme)||void 0===e?void 0:e.querySelectorAll("questions > question")}},watch:{theme:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=o(e.querySelectorAll('atom[type="image"], atom[type="voice"], atom[type="video"]')),r.prev=1,n.s();case 3:if((c=n.n()).done){r.next=15;break}return l=c.value,d=encodeURI(l.textContent.substring(1)),r.t0=t,r.t1=t.resources,r.t2=l.textContent,r.next=11,t.loadResource(l.getAttribute("type"),d);case 11:r.t3=r.sent,r.t0.$set.call(r.t0,r.t1,r.t2,r.t3);case 13:r.next=3;break;case 15:r.next=20;break;case 17:r.prev=17,r.t4=r.catch(1),n.e(r.t4);case 20:return r.prev=20,n.f(),r.finish(20);case 23:case"end":return r.stop()}}),r,null,[[1,17,20,23]])})))()}}},d=(r(280),r(51)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sit-content"},[r("div",{staticClass:"sit-header"},[e.name?r("div",[e._v("Название темы: "+e._s(e.name))]):e._e(),e._v(" "),r("div",{staticClass:"sit-question-tiles"},e._l(e.questions,(function(t,i){return r("div",{key:"question-tile-"+i,staticClass:"sit-question-tile"},[r("div",[e._v(e._s(t.getAttribute("price")))])])})),0)]),e._v(" "),e._l(e.questions,(function(t,i){return r("div",{key:"question-"+i,staticClass:"sit-question"},[r("div",[e._v("Цена: "+e._s(t.getAttribute("price")))]),e._v(" "),e._l(e.getAtoms(t),(function(t,i){return r("div",{key:"atom-"+i},["marker"===t.getAttribute("type")?r("hr"):r("div",["image"===t.getAttribute("type")?r("img",{staticClass:"sit-atom-image",attrs:{src:e.getResource("image",t.textContent)}}):"voice"===t.getAttribute("type")?r("audio",{attrs:{src:e.getResource("voice",t.textContent),controls:"controls"}}):"video"===t.getAttribute("type")?r("video",{attrs:{src:e.getResource("voice",t.textContent),controls:"controls"}}):r("div",[e._v(e._s(t.textContent))])])])})),e._v(" "),r("hr"),e._v(" "),r("div",[e._v("Правильные ответы: "+e._s(e.getAnswers(t).join(", ")))])],2)}))],2)}),[],!1,null,"39d08355",null);t.default=component.exports},283:function(e,t,r){"use strict";r(279)},284:function(e,t,r){var n=r(108)(!1);n.push([e.i,"body[data-v-89ab80c6],html[data-v-89ab80c6]{max-height:100%;margin:0;padding:0;overflow-x:hidden}hr[data-v-89ab80c6]{border:none;border-top:1px solid #888}.sir-author[data-v-89ab80c6]{padding:10px;background-color:#f8f8f8;border-radius:2px}.sir-round-name[data-v-89ab80c6]{font-weight:700}.sir-content[data-v-89ab80c6]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr 4fr;grid-gap:10px;gap:10px}.sir-pack-loader[data-v-89ab80c6]{position:-webkit-sticky;position:sticky;top:0;border:2px dashed #ccc;border-radius:4px;font-weight:700;text-align:center;background-color:#fff;padding:20px}#upload-pack-button[data-v-89ab80c6]{display:none}.upload-pack-label[data-v-89ab80c6]{text-decoration:underline;cursor:pointer}.upload-pack-label[data-v-89ab80c6]:hover{text-decoration:underline;color:#444}.sir-pack-loader.dragged[data-v-89ab80c6]{background-color:#ccc}.sir-menu[data-v-89ab80c6]{max-height:calc(100vh - 20px);overflow:auto;padding:10px}.sir-theme[data-v-89ab80c6]{max-height:100vh;overflow:auto}.sir-round[data-v-89ab80c6],.sir-themes[data-v-89ab80c6]{display:grid;grid-gap:10px;gap:10px}.sir-round-name[data-v-89ab80c6]{padding:10px;background-color:#888;color:#fff;border-radius:2px}.sir-theme-name[data-v-89ab80c6]{padding:10px;background-color:#eee;border-radius:2px;cursor:pointer}.sir-theme-name[data-v-89ab80c6]:hover{background-color:#ddd}.sir-theme-name.active[data-v-89ab80c6]{background-color:#ccc}",""]),e.exports=n},289:function(e,t,r){"use strict";r.r(t);r(39),r(40),r(29),r(32),r(41),r(42);var n=r(10),o=(r(50),r(13),r(26),r(27),r(286),r(28),r(288)),c=r.n(o);function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var f={name:"SiRounds",components:{SiTheme:function(){return Promise.resolve().then(r.bind(null,282))}},data:function(){return{content:null,activeTheme:null,packDraggedOver:!1,zipfile:null,packLink:null}},methods:{getThemes:function(e){return e.querySelectorAll("themes > theme")},setTheme:function(e){this.activeTheme=e},onPackDragEnter:function(e){e.preventDefault(),this.packDraggedOver=!0},onPackDragLeave:function(e){e.preventDefault(),this.packDraggedOver=!1},uploadPack:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),t.zipfile=new c.a,r.next=4,t.zipfile.loadAsync(e.target.files[0]);case 4:return r.next=6,t.zipfile.file("content.xml").async("string");case 6:n=r.sent,o=new DOMParser,t.content=o.parseFromString(n.trim(),"application/xml");case 9:case"end":return r.stop()}}),r)})))()},onPackDrop:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,d,f,v,m,h,x,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!e.dataTransfer.items){r.next=29;break}n=l(e.dataTransfer.items),r.prev=3,n.s();case 5:if((o=n.n()).done){r.next=19;break}if("file"!==(d=o.value).kind){r.next=17;break}return f=d.getAsFile(),t.zipfile=new c.a,r.next=12,t.zipfile.loadAsync(f);case 12:return r.next=14,t.zipfile.file("content.xml").async("string");case 14:v=r.sent,m=new DOMParser,t.content=m.parseFromString(v,"application/xml");case 17:r.next=5;break;case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(3),n.e(r.t0);case 24:return r.prev=24,n.f(),r.finish(24);case 27:r.next=31;break;case 29:h=l(e.dataTransfer.files);try{for(h.s();!(x=h.n()).done;)y=x.value,console.log(y.name)}catch(e){h.e(e)}finally{h.f()}case 31:t.packDraggedOver=!1;case 32:case"end":return r.stop()}}),r,null,[[3,21,24,27]])})))()}},computed:{authors:function(){var e,t=null===(e=this.content)||void 0===e?void 0:e.querySelectorAll("package > info > authors > author");return t},rounds:function(){var e;return null===(e=this.content)||void 0===e?void 0:e.querySelectorAll("rounds > round")}}},v=(r(283),r(51)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sir-content"},[r("div",{staticClass:"sir-menu"},[r("div",{staticClass:"sir-themes"},[r("div",{class:["sir-pack-loader",e.packDraggedOver?"dragged":""],on:{drop:e.onPackDrop,dragenter:e.onPackDragEnter,dragover:function(e){return e.preventDefault()},dragleave:e.onPackDragLeave}},[r("div",[e._v("ПЕРЕМЕСТИТЬ ФАЙЛ ДЛЯ ЗАГРУЗКИ")]),e._v(" "),r("div",[r("label",{staticClass:"upload-pack-label",attrs:{for:"upload-pack-button"}},[e._v("или выбрать")]),e._v(" "),r("input",{attrs:{id:"upload-pack-button",type:"file"},on:{change:e.uploadPack}})])]),e._v(" "),e._l(e.authors,(function(t,i){return r("div",{key:"author-"+i,staticClass:"sir-author"},[e._v(e._s(t.textContent))])})),e._v(" "),e._l(e.rounds,(function(t,i){return r("div",{key:"round"+i,staticClass:"sir-round"},[r("div",{staticClass:"sir-round-name"},[e._v(e._s(t.getAttribute("name")))]),e._v(" "),e._l(e.getThemes(t),(function(t,n){return r("div",{key:"theme-"+n,class:["sir-theme-name",t==e.activeTheme?"active":""],on:{click:function(r){return e.setTheme(t)}}},[e._v("\n          "+e._s(t.getAttribute("name"))+"\n        ")])}))],2)}))],2)]),e._v(" "),r("div",{staticClass:"sir-theme"},[r("si-theme",{attrs:{theme:e.activeTheme,pack:e.zipfile}})],1)])}),[],!1,null,"89ab80c6",null);t.default=component.exports;installComponents(component,{SiTheme:r(282).default})}}]);