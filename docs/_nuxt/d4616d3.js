(window.webpackJsonp=window.webpackJsonp||[]).push([[6,4,5],{278:function(e,t,n){var content=n(281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("ac5cbe32",content,!0,{sourceMap:!1})},279:function(e,t,n){var content=n(284);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(109).default)("ec0d7b9a",content,!0,{sourceMap:!1})},280:function(e,t,n){"use strict";n(278)},281:function(e,t,n){var r=n(108)(!1);r.push([e.i,".sit-content[data-v-39d08355]{display:grid;grid-gap:10px;gap:10px;padding:0 10px 10px}.sit-question[data-v-39d08355]{background-color:#eee;padding:10px}.sit-header[data-v-39d08355]{position:-webkit-sticky;position:sticky;top:0;background-color:#fff;padding:10px 0;display:grid;grid-gap:10px;gap:10px}.sit-question-tiles[data-v-39d08355]{display:grid;grid-auto-flow:column;grid-gap:10px;gap:10px}.sit-question-tile[data-v-39d08355]{display:flex;justify-content:center;align-items:center;text-align:center;border:1px solid #ccc;border-radius:2px;height:40px}.sit-question-tile div[data-v-39d08355]{height:-webkit-min-content;height:-moz-min-content;height:min-content;width:-webkit-min-content;width:-moz-min-content;width:min-content}.sit-atom-image[data-v-39d08355]{max-height:128px}",""]),e.exports=r},282:function(e,t,n){"use strict";n.r(t);n(39),n(28),n(40),n(29),n(32),n(41),n(42);var r=n(10);n(50),n(80),n(13),n(26),n(27),n(285),n(192);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){l=!0,o=e},f:function(){try{d||null==n.return||n.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d={name:"SiTheme",props:{theme:{type:Object,default:function(){return{}}},pack:{type:Object,default:function(){return{}}}},data:function(){return{resources:{}}},methods:{getAtoms:function(e){return null==e?void 0:e.querySelectorAll("scenario > atom")},getAnswers:function(e){var t,n=[],r=o(null==e?void 0:e.querySelectorAll("right > answer"));try{for(r.s();!(t=r.n()).done;){var c=t.value;n.push(c.textContent)}}catch(e){r.e(e)}finally{r.f()}return n},getResource:function(e,t){var n;return null!==(n=this.resources[t])&&void 0!==n?n:null},loadResource:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,d,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e in(o={voice:"Audio",image:"Images",video:"Video"})){r.next=3;break}return r.abrupt("return",null);case 3:if(c="".concat(o[e],"/").concat(t),null!==(d=n.pack.file(c))){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,d.async("blob");case 9:return l=r.sent,f=URL.createObjectURL(l),r.abrupt("return",f);case 12:case"end":return r.stop()}}),r)})))()}},computed:{name:function(){var e;return null===(e=this.theme)||void 0===e?void 0:e.getAttribute("name")},questions:function(){var e;return null===(e=this.theme)||void 0===e?void 0:e.querySelectorAll("questions > question")}},watch:{theme:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,d,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=o(e.querySelectorAll('atom[type="image"], atom[type="voice"], atom[type="video"]')),n.prev=1,r.s();case 3:if((c=r.n()).done){n.next=15;break}return d=c.value,l=encodeURI(d.textContent.substring(1)),n.t0=t,n.t1=t.resources,n.t2=d.textContent,n.next=11,t.loadResource(d.getAttribute("type"),l);case 11:n.t3=n.sent,n.t0.$set.call(n.t0,n.t1,n.t2,n.t3);case 13:n.next=3;break;case 15:n.next=20;break;case 17:n.prev=17,n.t4=n.catch(1),r.e(n.t4);case 20:return n.prev=20,r.f(),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[1,17,20,23]])})))()}}},l=(n(280),n(51)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sit-content"},[n("div",{staticClass:"sit-header"},[e.name?n("div",[e._v("Название темы: "+e._s(e.name))]):e._e(),e._v(" "),n("div",{staticClass:"sit-question-tiles"},e._l(e.questions,(function(t,i){return n("div",{key:"question-tile-"+i,staticClass:"sit-question-tile"},[n("div",[e._v(e._s(t.getAttribute("price")))])])})),0)]),e._v(" "),e._l(e.questions,(function(t,i){return n("div",{key:"question-"+i,staticClass:"sit-question"},[n("div",[e._v("Цена: "+e._s(t.getAttribute("price")))]),e._v(" "),e._l(e.getAtoms(t),(function(t,i){return n("div",{key:"atom-"+i},["marker"===t.getAttribute("type")?n("hr"):n("div",["image"===t.getAttribute("type")?n("img",{staticClass:"sit-atom-image",attrs:{src:e.getResource("image",t.textContent)}}):"voice"===t.getAttribute("type")?n("audio",{attrs:{src:e.getResource("voice",t.textContent),controls:"controls"}}):"video"===t.getAttribute("type")?n("video",{attrs:{src:e.getResource("voice",t.textContent),controls:"controls"}}):n("div",[e._v(e._s(t.textContent))])])])})),e._v(" "),n("hr"),e._v(" "),n("div",[e._v("Правильные ответы: "+e._s(e.getAnswers(t).join(", ")))])],2)}))],2)}),[],!1,null,"39d08355",null);t.default=component.exports},283:function(e,t,n){"use strict";n(279)},284:function(e,t,n){var r=n(108)(!1);r.push([e.i,"body[data-v-2d6d60e8],html[data-v-2d6d60e8]{max-height:100%;margin:0;padding:0;overflow-x:hidden}hr[data-v-2d6d60e8]{border:none;border-top:1px solid #888}.sir-author[data-v-2d6d60e8]{padding:10px;background-color:#f8f8f8;border-radius:2px}.sir-round-name[data-v-2d6d60e8]{font-weight:700}.sir-content[data-v-2d6d60e8]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr 4fr;grid-gap:10px;gap:10px}.sir-pack-loader[data-v-2d6d60e8]{position:-webkit-sticky;position:sticky;top:0;border:2px dashed #ccc;border-radius:4px;font-weight:700;text-align:center;background-color:#fff;padding:20px}#upload-pack-button[data-v-2d6d60e8]{display:none}.upload-pack-label[data-v-2d6d60e8]{text-decoration:underline;cursor:pointer}.upload-pack-label[data-v-2d6d60e8]:hover{text-decoration:underline;color:#444}.sir-pack-loader.dragged[data-v-2d6d60e8]{background-color:#ccc}.sir-menu[data-v-2d6d60e8]{max-height:calc(100vh - 20px);overflow:auto;padding:10px}.sir-theme[data-v-2d6d60e8]{max-height:100vh;overflow:auto}.sir-round[data-v-2d6d60e8],.sir-themes[data-v-2d6d60e8]{display:grid;grid-gap:10px;gap:10px}.sir-round-name[data-v-2d6d60e8]{padding:10px;background-color:#888;color:#fff;border-radius:2px}.sir-theme-name[data-v-2d6d60e8]{padding:10px;background-color:#eee;border-radius:2px;cursor:pointer}.sir-theme-name[data-v-2d6d60e8]:hover{background-color:#ddd}.sir-theme-name.active[data-v-2d6d60e8]{background-color:#ccc}",""]),e.exports=r},287:function(e,t,n){"use strict";n.r(t);n(39),n(40),n(29),n(32),n(41),n(42);var r=n(10),o=(n(50),n(13),n(26),n(27),n(28),n(286)),c=n.n(o);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f={name:"SiRounds",components:{SiTheme:function(){return Promise.resolve().then(n.bind(null,282))}},data:function(){return{content:null,activeTheme:null,packDraggedOver:!1,zipfile:null,packLink:null}},methods:{getThemes:function(e){return e.querySelectorAll("themes > theme")},setTheme:function(e){this.activeTheme=e},onPackDragEnter:function(e){e.preventDefault(),this.packDraggedOver=!0},onPackDragLeave:function(e){e.preventDefault(),this.packDraggedOver=!1},uploadPack:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),t.zipfile=new c.a,n.next=4,t.zipfile.loadAsync(e.target.files[0]);case 4:return n.next=6,t.zipfile.file("content.xml").async("string");case 6:r=n.sent,o=new DOMParser,t.content=o.parseFromString(r,"application/xml");case 9:case"end":return n.stop()}}),n)})))()},onPackDrop:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,f,v,m,h,x,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!e.dataTransfer.items){n.next=29;break}r=d(e.dataTransfer.items),n.prev=3,r.s();case 5:if((o=r.n()).done){n.next=19;break}if("file"!==(l=o.value).kind){n.next=17;break}return f=l.getAsFile(),t.zipfile=new c.a,n.next=12,t.zipfile.loadAsync(f);case 12:return n.next=14,t.zipfile.file("content.xml").async("string");case 14:v=n.sent,m=new DOMParser,t.content=m.parseFromString(v,"application/xml");case 17:n.next=5;break;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(3),r.e(n.t0);case 24:return n.prev=24,r.f(),n.finish(24);case 27:n.next=31;break;case 29:h=d(e.dataTransfer.files);try{for(h.s();!(x=h.n()).done;)y=x.value,console.log(y.name)}catch(e){h.e(e)}finally{h.f()}case 31:t.packDraggedOver=!1;case 32:case"end":return n.stop()}}),n,null,[[3,21,24,27]])})))()}},computed:{authors:function(){var e,t=null===(e=this.content)||void 0===e?void 0:e.querySelectorAll("package > info > authors > author");return t},rounds:function(){var e;return null===(e=this.content)||void 0===e?void 0:e.querySelectorAll("rounds > round")}}},v=(n(283),n(51)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sir-content"},[n("div",{staticClass:"sir-menu"},[n("div",{staticClass:"sir-themes"},[n("div",{class:["sir-pack-loader",e.packDraggedOver?"dragged":""],on:{drop:e.onPackDrop,dragenter:e.onPackDragEnter,dragover:function(e){return e.preventDefault()},dragleave:e.onPackDragLeave}},[n("div",[e._v("ПЕРЕМЕСТИТЬ ФАЙЛ ДЛЯ ЗАГРУЗКИ")]),e._v(" "),n("div",[n("label",{staticClass:"upload-pack-label",attrs:{for:"upload-pack-button"}},[e._v("или выбрать")]),e._v(" "),n("input",{attrs:{id:"upload-pack-button",type:"file"},on:{change:e.uploadPack}})])]),e._v(" "),e._l(e.authors,(function(t,i){return n("div",{key:"author-"+i,staticClass:"sir-author"},[e._v(e._s(t.textContent))])})),e._v(" "),e._l(e.rounds,(function(t,i){return n("div",{key:"round"+i,staticClass:"sir-round"},[n("div",{staticClass:"sir-round-name"},[e._v(e._s(t.getAttribute("name")))]),e._v(" "),e._l(e.getThemes(t),(function(t,r){return n("div",{key:"theme-"+r,class:["sir-theme-name",t==e.activeTheme?"active":""],on:{click:function(n){return e.setTheme(t)}}},[e._v("\n          "+e._s(t.getAttribute("name"))+"\n        ")])}))],2)}))],2)]),e._v(" "),n("div",{staticClass:"sir-theme"},[n("si-theme",{attrs:{theme:e.activeTheme,pack:e.zipfile}})],1)])}),[],!1,null,"2d6d60e8",null);t.default=component.exports;installComponents(component,{SiTheme:n(282).default})},294:function(e,t,n){"use strict";n.r(t);n(13),n(26),n(27);var r={name:"IndexPage",components:{SiRounds:function(){return Promise.resolve().then(n.bind(null,287))}}},o=n(51),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("si-rounds")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SiRounds:n(287).default})}}]);